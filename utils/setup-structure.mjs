/*
FILE          : setup-structure.mjs
AUTHOR        : Alexandre Ramirez
DATE CREATED  : 14.11.2025
LAST MODIFIED : 21.11.2025
DESCRIPTION   :
    Automated script used to generate the initial MVC project structure.
    Creates folders and files for:
        - database configuration
        - models
        - controllers
        - routes
        - utilities
        - main application entry point
        - project metadata files

REQUIRED LIBRARIES:
    - fs (Node.js native) : For creating directories and files.
    - path (Node.js native) : For handling file system paths.

EXECUTION:
    Run the script using:
        node setup-structure.mjs

BEHAVIOR:
    - Creates all missing directories listed in the `structure` array.
    - Creates each file if it does not already exist.
    - Logs each created file and directory to the console.
    - Displays a final confirmation message once the structure is ready.

NOTES:
    - This script is intended to be run once when initializing the project.
    - Existing files are not overwritten.
    - Safe to run multiple times: only missing elements are created.
    - GENERATED BY CHATGPT
*/

//

import fs from "fs";
import path from "path";

const structure = [
    "db/connection.js",
    "models/client.model.js",
    "models/dog.model.js",
    "models/service.model.js",
    "models/location.model.js",
    "controllers/client.controller.js",
    "controllers/dog.controller.js",
    "controllers/service.controller.js",
    "controllers/location.controller.js",
    "routes/client.routes.js",
    "routes/dog.routes.js",
    "routes/service.routes.js",
    "routes/location.routes.js",
    "utils/helper.mjs",
    "utils/utils.js",
    "app.js",
    ".env",
    ".gitignore",
    "README.md"
];

for (const filePath of structure) {
    const dir = path.dirname(filePath);
    if (dir !== "." && !fs.existsSync(dir)) {
        fs.mkdirSync(dir, { recursive: true });
        console.log("üìÅ Dossier cr√©√© :", dir);
    }
    if (!fs.existsSync(filePath)) {
        fs.writeFileSync(filePath, "");
        console.log("üìÑ Fichier cr√©√© :", filePath);
    }
}

console.log("\n‚úÖ Structure MVC cr√©√©e avec succ√®s !");
